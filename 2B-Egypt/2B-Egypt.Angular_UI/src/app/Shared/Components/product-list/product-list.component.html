<div class="product-list product-details">
    <div *ngFor="let product of products" class="product-card" (click)="SelectedProductId(product.id)" style="cursor: pointer;">
      <div class="product-img-wrapper">
        <!-- <img   [src]="
            product.images.length > 0
              ? product.images[0].imageUrl
              : 'default-product.jpg'
          " alt="{{ product.nameEn }}" class="product-img" /> -->
        <span *ngIf="product.discount > 0" class="discount-badge">-{{ product.discount }}%</span>
      </div>
      <h3 class="product-name">{{ product.nameEn }}</h3>
      <p class="product-description">{{ product.descriptionEn }}</p>
      <div class="price-section">
        <span class="old-price" *ngIf="product.discount > 0">
          {{ product.price | currency }}
        </span>
        <span class="current-price">
          {{
            product.price - (product.price * product.discount) / 100 | currency
          }}
        </span>
        <span *ngIf="product.discount > 0" class="discount-percentage">
          Save {{ product.discount }}%
        </span>
      </div>
      <div class="quantity-section">
        <button class="quantity-btn" (click)="handleQuantity('plus', product)">+</button>
        <input type="text" [(ngModel)]="product.quantity" readonly class="quantity-input" />
        <button class="quantity-btn" (click)="handleQuantity('min', product)">-</button>
      </div>
  
      <div class="cart-buttons">
        <button (click)="addToCart(product)" class="add-cart-btn">
          <i class="fas fa-shopping-cart"></i> Add to Cart
        </button>
        <button *ngIf="product.inCart" (click)="removeFromCart(+product.id)" class="remove-cart-btn">
          Remove from Cart
        </button>
      </div>
    </div>
  </div>
  <ng-template #noProducts>
    <p>No products available.</p>
  </ng-template>
    
  