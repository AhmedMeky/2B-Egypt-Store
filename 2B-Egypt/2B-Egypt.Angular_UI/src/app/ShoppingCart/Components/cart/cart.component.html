<div class="cart-container">
  <h2>{{ " shopping cart" | translate }}</h2>
  <div *ngIf="cartItems.length > 0">
    <div class="row">
      <!-- Cart Items Table -->
      <div class="col-12 col-lg-9 mb-4">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">{{ "item" | translate }}</th>  
              <th scope="col">{{ "price" | translate }}</th>
              <th scope="col">{{ "qty" | translate }}</th>
              <th scope="col">{{ "subtotal" | translate }}</th>
              <th scope="col">{{ "action" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of cartItems;">
              <td style="max-width: 300px;">
                <div style="display: flex;justify-content:center">
                  <!-- <img class="imageItem" [src]="item.image" width="100px" height="100px"> -->
                  <span class="productName">
                    {{getLocalizedProductName(item)}}
                  </span>
                </div>
              </td>
              <td>{{ item.price | currency }}</td>
              <td>
                <div class="quantity">
                  <i class="fa fa-angle-up" (click)="item.quantity < item.stock ? increaseQuantity(item) : ''"></i>
                  {{item.quantity}}
                  <i class="fa fa-angle-down" [style.cursor]="item.quantity === 1 ? 'auto' : 'pointer'"
                    (click)="decreaseQuantity(item)"></i>
                </div>
                <span *ngIf="item.quantity >= item.stock" style="color: red; font-size: 0.9rem;">
                  {{ "Exceeded available stock quantity. Maximum available is " + item.stock | translate }}
                </span>
              </td>
              <td> {{ item.price * item.quantity |currency}}</td>
              <td>
                <button (click)="removeItem(item.productId)" class="clear-cart-btn">{{ 'remove' | translate
                }}</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <!-- Order Summary Card -->
      <div class="col-12 col-lg-3">
        <div class="card p-3 border-secondary">
          <div class="card-body">
            <h3 class="card-title mb-3">{{ "Summary" | translate }}</h3>
            <div class="d-flex justify-content-between mb-2">
              <span>{{ "subtotal" | translate }}</span>
              <span>{{ subTotal | currency }}</span>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
              <h5>{{ "Order Total" | translate }}</h5>
              <h5>{{ subTotal | currency }}</h5>
            </div>
            <button routerLink="/shipping" class="btn btn-warning btn-block mt-3">
              {{ "GO TO CHECKOUT" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Cart Footer -->
    <div class="cart-footer mt-4 text-right">
      <button (click)="clearCart()" class="btn btn-danger">
        {{ "Clear Cart" | translate }}
      </button>
    </div>
  </div>
  
  <!-- Empty Cart Message -->
  <div *ngIf="cartItems.length == 0" class="text-center mt-5">
    <p>{{ "You have no items in your shopping cart" | translate }}</p>
    <p>
      {{ "Click" | translate }}
      <a class="clickHere" routerLink="/products">{{ "here" | translate }}</a>
      {{ "to continue shopping" | translate }}
    </p>
  </div>
  
</div>
  <div  *ngIf="cartItems.length == 0">
    <p  ><span routerLink="/products" class="clickHere" >{{ 'continue_shopping' | translate }}</span> </p>
  </div>






<style>
  .table {
    vertical-align: middle;
    text-align: center;

  }

  .table tbody tr td {
    vertical-align: middle;
    text-align: center;
  }

  .imageItem {
    border: 1px solid gray;
    padding: 5px;
    border-radius: 10px;
  }

  .productName {
    margin-left: 10px;
    padding: 2px;
  }

  .quantity {
    display: flex;
    flex-direction: column;
  }

  .fa-angle-up,
  .fa-angle-down {
    font-size: 20px;
    cursor: pointer;
  }

  .cart-container {
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 5px;
  }

  .cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #ddd;
  }

  .item-details {
    flex: 1;
  }

  .remove-btn {
    background-color: orangered;
    color: white;
    border-radius: 5px;
    padding: 10px;
    cursor: pointer;
  }

  .clear-cart-btn {
    background-color: orangered;
    color: white;
    border-radius: 5px;
    padding: 10px;
    cursor: pointer;
    background-color: #ff4d4d;
    color: white;
    border: none;
    padding: 10px;
    cursor: pointer;
  }

  .clear-cart-btn {
    background-color: #ff4d4d;
    color: white;
    border: none;
    padding: 10px;
    cursor: pointer;
  }

  .cart-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
  }

  .clickHere {
    cursor: pointer;
    color: #f0ad4e;
  }
</style>